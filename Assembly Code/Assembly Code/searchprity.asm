.model small
.stack 100h

.data
ARRAY DB 50 DUP(?)
NEWLINE DB 13,10,'$'
SIZE DB ?
MSG DB "ENTER NUMBER OF ELEMENTS: $"
MSG_INPUT DB "ENTER ELEMENT: $"
MSG_SEARCH DB "ENTER VALUE TO SEARCH: $"
MSG2 DB "OCCURRENCE: $"
SEARCH DB ?

.code
MAIN PROC
MOV AX, @DATA
MOV DS, AX

; Ask for number of elements
MOV AH, 9
LEA DX, MSG
INT 21H

MOV AH, 1
INT 21H
SUB AL, '0' ; Convert ASCII to integer
MOV BL, AL ; Store as count

; Input elements into ARRAY
MOV CL, 0
LEA SI, ARRAY

INPUT_LOOP:
LEA DX, NEWLINE
MOV AH, 9
INT 21H

MOV AH, 9
LEA DX, MSG_INPUT
INT 21H

MOV AH, 1
INT 21H
MOV [SI], AL
INC SI
INC CL
CMP CL, BL
JL INPUT_LOOP

; Ask for value to search
LEA DX, NEWLINE
MOV AH, 9
INT 21H

MOV AH, 9
LEA DX, MSG_SEARCH
INT 21H

MOV AH, 1
INT 21H
MOV SEARCH, AL    

; Search loop
MOV DL, 0 ; Counter for matches
MOV CL, 0
LEA SI, ARRAY

SEARCH_LOOP:
MOV AL, [SI]
CMP AL, SEARCH
JNE NO_MATCH
INC DL

NO_MATCH:
INC SI
INC CL
CMP CL, BL
JL SEARCH_LOOP



MOV AH, 4CH
INT 21H

MAIN ENDP

